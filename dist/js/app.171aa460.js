(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)s=o[u],a[s]&&d.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);h&&h(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},a={1:0},r=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var h=l;r.push([5,0]),i()})({"2jm9":function(e,t,i){},"4QqU":function(e,t,i){"use strict";var n=i("Dzp9"),a=i.n(n);a.a},5:function(e,t,i){e.exports=i("Vtdi")},Dzp9:function(e,t,i){},EDI0:function(e,t,i){},KhFw:function(e,t,i){"use strict";var n=i("2jm9"),a=i.n(n);a.a},Vtdi:function(e,t,i){"use strict";i.r(t);i("dE+T"),i("bHtr"),i("dRSK"),i("INYr"),i("HEwt"),i("Z2Ku"),i("yt8O"),i("6AQ9"),i("Vd3H"),i("0E+W"),i("yM4b"),i("IXt9"),i("f3/d"),i("9AAn"),i("fyVe"),i("U2t9"),i("2atp"),i("+auO"),i("MtdB"),i("Jcmo"),i("nzyx"),i("BC7C"),i("x8ZO"),i("9P93"),i("BJ/l"),i("eHKK"),i("pp/T"),i("CyHz"),i("bBoP"),i("x8Yj"),i("hLT2"),i("xfY5"),i("Ljet"),i("/KAi"),i("fN96"),i("7h0T"),i("sbF8"),i("h/M4"),i("knhD"),i("XfKG"),i("BP8U"),i("91GP"),i("RQRG"),i("/uf1"),i("/8Fb"),i("DW2E"),i("mYba"),i("jm62"),i("JduL"),i("5Pf0"),i("uaHG"),i("ZNX/"),i("mura"),i("25dN"),i("Zshi"),i("V/DX"),i("FlsD"),i("RW0V"),i("z2o2"),i("/SS/"),i("hhXQ"),i("VRzm"),i("CX2u"),i("3xty"),i("I5cv"),i("iMoV"),i("uhZd"),i("0YWM"),i("694e"),i("LTTk"),i("9rMk"),i("IlFx"),i("xpiv"),i("oZ/O"),i("klPD"),i("knU9"),i("Oyvg"),i("OEbY"),i("SRfc"),i("pIFo"),i("KKXr"),i("OG14"),i("a1Th"),i("T39b"),i("ioFf"),i("rE2o"),i("hEkN"),i("nIY7"),i("+oPb"),i("SMB2"),i("oDIu"),i("rvZc"),i("0mN4"),i("bDcW"),i("nsiH"),i("VpUO"),i("L9s1"),i("0LDn"),i("tUrg"),i("9XZr"),i("7VC1"),i("eI33"),i("FLlr"),i("84bF"),i("9VmF"),i("FEjr"),i("Zz4T"),i("JCqj"),i("xm80"),i("sFw1"),i("NO8f"),i("aqI/"),i("Faw5"),i("r1bV"),i("tuSo"),i("nCnK"),i("Y9lz"),i("Tdpu"),i("EK0E"),i("wCsR"),i("R5XZ"),i("Ew+T"),i("rGqo"),i("ls82");var n=i("Kw5r"),a=i("zlta"),r=i.n(a);i("v0CA");n["a"].use(r.a,{});var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",{class:{"theme--dark":"dark"===e.theme}},[i("v-toolbar",{attrs:{fixed:"",app:""}},[i("v-toolbar-title",[e._v("File explorer")]),e.search?e._e():i("v-breadcrumbs",{attrs:{divider:"/"}},e._l(e.folders,function(t,n){return i("v-breadcrumbs-item",{key:n,attrs:{disabled:t.disabled}},[i("span",{on:{click:function(i){e.onPathClick(n,t.disabled)}}},[e._v(e._s(t.text))])])})),e.search?i("v-subheader",[e._v("Search results")]):e._e(),i("v-spacer"),e.showSearch?i("v-text-field",{ref:"search",attrs:{light:"",solo:"",placeholder:"Search..."},on:{blur:function(t){e.showSearch=!1}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),i("v-btn",{attrs:{icon:""},on:{click:e.activateSearch}},[i("v-icon",[e._v("search")])],1),i("v-btn",{attrs:{icon:""},on:{click:function(t){e.showMenu=!e.showMenu}}},[e.showMenu?e._e():i("v-icon",[e._v("keyboard_arrow_left")]),e.showMenu?i("v-icon",[e._v("keyboard_arrow_right")]):e._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}]},[i("v-btn-toggle",{attrs:{mandatory:""},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}},[i("v-btn",{attrs:{flat:"",value:"dark"}},[e._v("\n          dark\n        ")]),i("v-btn",{attrs:{flat:"",value:"light"}},[e._v("\n          light\n        ")])],1),i("v-btn",{attrs:{icon:""},on:{click:e.toggleView}},["icons"===e.view?i("v-icon",[e._v("apps")]):e._e(),"list"===e.view?i("v-icon",[e._v("list")]):e._e()],1)],1)],1),i("v-content",{staticClass:"page-data"},[i("main-page",{attrs:{selectedPath:e.selectedPath,search:e.search,view:e.view},on:{changeFolder:e.changeFolder}})],1)],1)},o=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-content"},[i("v-layout",{attrs:{row:"",wrap:""}},["icons"===e.view?i("v-flex",{staticClass:"data-box",attrs:{xs12:""}},[e.search?e._e():e._l(e.pathForShow,function(t){return i("file",{attrs:{item:t},on:{folderClick:e.onFolderClick}})}),e.search?e._l(e.searchResults,function(e){return i("file",{attrs:{item:e}})}):e._e()],2):e._e(),"list"===e.view?i("v-flex",{staticClass:"data-box",attrs:{xs12:""}},[e.search?e._e():i("files-list",{attrs:{items:e.pathForShow},on:{folderClick:e.onFolderClick,remove:e.remove}}),e.search?i("files-list",{attrs:{items:e.searchResults},on:{remove:e.remove}}):e._e()],1):e._e()],1)],1)},c=[],h=i("iv4g"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"file-card"},[i("v-list-tile",{on:{click:e.onItemClick}},[i("v-list-tile-avatar",["dir"===e.item.type?i("v-icon",{staticClass:"blue lighten-1 white--text"},[e._v("folder")]):e._e(),"dir"!==e.item.type?i("v-icon",{staticClass:"green lighten-1 white--text"},[e._v("insert_drive_file")]):e._e()],1),i("v-list-tile-content",[i("v-list-tile-title",[e._v(e._s(e.item.name))]),"dir"===e.item.type?i("v-list-tile-sub-title",[e._v(e._s(e.item.children.length)+" items")]):e._e(),"dir"!==e.item.type?i("v-list-tile-sub-title",[e._v(e._s(e.item.size))]):e._e()],1)],1)],1)},d=[],f={name:"File",props:["item"],data:function(){return{}},methods:{onItemClick:function(){"dir"!==this.item.type?alert("Download"):this.$emit("folderClick",this.item)}}},p=f,v=(i("KhFw"),i("KHd+")),m=Object(v["a"])(p,u,d,!1,null,null,null),g=m.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"hide-actions":"",pagination:e.pagination,"rows-per-page-items":[-1]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[i("td",{staticClass:"file-name",on:{click:function(i){e.onItemClick(t.item)}}},["dir"===t.item.type?i("v-icon",{attrs:{color:"blue lighten-1"}},[e._v("folder")]):e._e(),"dir"!==t.item.type?i("v-icon",{attrs:{color:"green lighten-1"}},[e._v("insert_drive_file")]):e._e(),e._v("\n            "+e._s(t.item.name)+"\n        ")],1),i("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.size))]),i("td",{staticClass:"text-xs-right"},[e._v(e._s("dir"===t.item.type?"папка":"файл"))]),i("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.date))]),i("td",{staticClass:"text-xs-right"},[i("v-btn",{attrs:{flat:"",icon:"",color:"red"},on:{click:function(i){e.remove(t.item)}}},[i("v-icon",[e._v("clear")])],1)],1)]}}])})},w=[],_={name:"List",props:["items"],data:function(){return{pagination:{sortBy:"type"},headers:[{text:"Имя",value:"name"},{text:"Размер",value:"size",align:"right"},{text:"Тип",value:"type",align:"right"},{text:"Последнее изменение",value:"date",align:"right"},{text:"",value:"remove",sortable:!1,align:"left"}]}},methods:{onItemClick:function(e){"dir"!==e.type?alert("Download"):this.$emit("folderClick",e)},remove:function(e){this.$emit("remove",e)}}},y=_,k=(i("g6mx"),Object(v["a"])(y,b,w,!1,null,null,null)),x=k.exports,j={name:"MainPage",created:function(){var e=this;this.getCatalogs().then(function(t){e.pathData=t,e.selectPath(t)})},props:["changeFolder","selectedPath","search","view"],components:{File:g,"files-list":x},data:function(){return{pathData:[],path:[],pathForShow:[],searchResults:[]}},methods:{selectPath:function(e){this.path.length>0&&(this.path[this.path.length-1].disabled=!1),this.pathForShow=e.children,this.path.push({text:e.name,disabled:!0}),this.$emit("changeFolder",this.path)},onFolderClick:function(e){this.selectPath(e)},getDataSearch:function(e,t){var i=this,n=[];return e.forEach(function(e){"dir"===e.type&&e.children.length?n.push.apply(n,Object(h["a"])(i.getDataSearch(e.children,t))):"file"===e.type&&e.name.indexOf(t)>=0&&n.push(e)}),n},remove:function(e){var t=-1;this.pathForShow.forEach(function(i,n){i.name===e.name&&(t=n)}),-1!==t&&this.pathForShow.splice(t,1)},getCatalogs:function(){return Promise.resolve({name:"photos",type:"dir",children:[{name:"summer",type:"dir",children:[{name:"june",type:"dir",children:[{name:"windsurf.jpg",type:"file",size:"100 kb",date:"2018-01-10 23:02:12"}]}]},{name:"winter",type:"dir",children:[{name:"january",type:"dir",children:[{name:"ski.png",type:"file",size:"400 kb",date:"2018-01-10 23:02:12"},{name:"snowboard.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"}]}]},{name:"hh.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh1.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh2.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh3.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh4.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh5.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh6.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh7.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh89.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh9.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh10.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"},{name:"hh11.jpg",type:"file",size:"200 kb",date:"2018-01-10 23:02:12"}]})}},watch:{selectedPath:function(e){if(e!==this.path.length-1){var t=this.pathData;this.path.forEach(function(i,n){if(n>0&&n<=e){var a=!1;t.children.forEach(function(e){e.name!==i.text||a||(t=e,a=!0)})}}),this.path=this.path.slice(0,e),this.selectPath(t)}},search:function(e){e&&(this.searchResults=this.getDataSearch(this.pathData.children,e))}}},C=j,S=(i("4QqU"),Object(v["a"])(C,l,c,!1,null,null,null)),F=S.exports,P={name:"App",components:{MainPage:F},created:function(){var e=this.$user.getView();this.view=e&&"null"!==e?e:this.view,this.theme=this.$user.getTheme()||this.theme},data:function(){return{showSearch:!1,search:"",folders:[],selectedPath:0,theme:"dark",view:"icons",showMenu:!1}},methods:{activateSearch:function(){var e=this;this.showSearch=!0,this.$nextTick(function(){return e.$refs.search.focus()})},changeFolder:function(e){this.folders=e,this.selectedPath=e.length-1},onPathClick:function(e,t){t||(this.selectedPath=e)},toggleView:function(){this.view="list"===this.view?"icons":"list"}},watch:{view:function(e){this.$user.setView(e)},theme:function(e){this.$user.setTheme(e)}}},O=P,z=(i("ZL7j"),Object(v["a"])(O,s,o,!1,null,null,null)),E=z.exports,D=i("xmWZ"),I=i("qpph"),M={view:"s3:view",theme:"s3:theme"},T=function(){function e(t,i){Object(D["a"])(this,e),this.cookie=t,this.dev=!!i,this.view=localStorage.getItem(M.view),this.theme=localStorage.getItem(M.theme)}return Object(I["a"])(e,[{key:"setTheme",value:function(e){this.theme=e,localStorage.setItem(M.theme,e)}},{key:"setView",value:function(e){this.view=e,localStorage.setItem(M.view,e)}},{key:"getTheme",value:function(){return this.theme}},{key:"getView",value:function(){return this.view}},{key:"getSavedOptions",value:function(){var e={};return Object.keys(M).forEach(function(t){e[t]=localStorage.getItem(M[t])}),e}}]),e}(),V={install:function(e,t){e.prototype.$user=new T(e.cookie,!1)}};n["a"].config.productionTip=!1,n["a"].use(V),new n["a"]({render:function(e){return e(E)}}).$mount("#app")},ZL7j:function(e,t,i){"use strict";var n=i("EDI0"),a=i.n(n);a.a},g6mx:function(e,t,i){"use strict";var n=i("r/Yp"),a=i.n(n);a.a},"r/Yp":function(e,t,i){}});
//# sourceMappingURL=app.171aa460.js.map